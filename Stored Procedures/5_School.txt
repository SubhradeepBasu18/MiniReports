create proc sp_GetAllSchoolNames
as
begin
	select SchoolName from dbo.School
end;

exec sp_GetAllSchoolNames;


create proc sp_GetSchoolDetailsById
	@SchoolID int
as
begin
	select school.SchoolName, site.SiteName, school.Address from dbo.School school
	join dbo.Site site
	on school.SiteID = site.SiteID
end;

exec sp_GetSchoolDetailsById @SchoolID = 2;

ALTER proc [dbo].[sp_InsertSchool]
	@SchoolName varchar(200),
	@SiteID int,
	@Address varchar(300)
as
begin
	insert into School (SchoolName, SiteID, Address)
	values(@SchoolName, @SiteID, @Address)
end;

create or alter proc sp_GetSchoolBySiteID
	@SiteID int
as
begin
	select SchoolID, SchoolName from dbo.School
	where SiteID = @SiteID
end;

exec sp_GetSchoolsBySiteID @SiteID = 1;