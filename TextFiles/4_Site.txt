create proc sp_GetAllSiteNames
as
begin
	select SiteName from dbo.Site
end;

exec sp_GetAllSiteNames;



create proc sp_GetSiteDetailsByID
 @SiteID int
as
begin
	select site.SiteName, entity.TypeName, site.Address  from dbo.Site site 
	join EntityType entity
	on site.SiteTypeID = entity.EntityTypeID
	where site.SiteID = @SiteID
end;

exec sp_GetSiteDetailsByID @SiteID = 1;

ALTER proc [dbo].[sp_InsertSite]
	@SiteName varchar(200),
	@SiteTypeID int,
	@Address varchar(300),
	@GrantID int
as
begin
	insert into Site (SiteName, SiteTypeID, Address, GranteeID)
	values(@SiteName, @SiteTypeID, @Address, @GrantID)
end;


create proc sp_GetAllSitesByGranteeID
	@GranteeID INT
as
begin
	select SiteName from dbo.Site
	where GranteeID = @GranteeID
end;

exec sp_GetAllSitesByGranteeID @GranteeID = 4;